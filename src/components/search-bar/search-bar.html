<div class="search-bar-container">
  <div class="search-field-pill" [class.has-error]="errorMessage">
    <mat-icon class="search-icon">search</mat-icon>
    <input
      type="text"
      [formControl]="tickerControl"
      (keydown.enter)="onSearch()"
      placeholder="Search Cryptocurrency (e.g., BTC, ETH, SOL)"
      autocomplete="off"
      class="search-input"
    />
    <button type="button" class="search-button" (click)="onSearch()" aria-label="Search">
      <mat-icon>arrow_forward</mat-icon>
    </button>
  </div>
  @if (errorMessage) {
    <span class="search-error">{{ errorMessage }}</span>
  }
  <div class="quick-pairs">
    <span class="quick-pairs-label">Quick select:</span>
    <mat-chip-set aria-label="Popular pairs">
      @for (pair of quickPairs; track pair.ticker) {
        <mat-chip-option
          [selected]="isSelected(pair.ticker)"
          (click)="selectPair(pair.ticker)"
        >
          {{ pair.label }}
        </mat-chip-option>
      }
    </mat-chip-set>
  </div>
</div>
